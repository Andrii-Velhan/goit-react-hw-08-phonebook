/*! For license information please see main.2e3682ea.chunk.js.LICENSE.txt */
(this["webpackJsonpgoit-react-hw-08-phonebook"]=this["webpackJsonpgoit-react-hw-08-phonebook"]||[]).push([[0],{100:function(e,t,n){},101:function(e,t,n){},102:function(e,t,n){},103:function(e,t,n){},104:function(e,t,n){},105:function(e,t,n){},106:function(e,t,n){},109:function(e,t,n){},110:function(e,t,n){"use strict";n.r(t);var r,a,c,o=n(0),s=n(22),i=n.n(s),u=n(19),l=n(8),b=n(15),j=n(16),h=n(18),f=n(17),m=n(7),d=n(1),O={link:{display:"inline-block",textDecoration:"none",padding:12,fontWeight:700,color:"#2A363B"},activeLink:{color:"#E84A5F"}},p=function(){return Object(d.jsxs)("nav",{children:[Object(d.jsx)(u.b,{to:"/",exact:!0,style:O.link,activeStyle:O.activeLink,children:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f"}),Object(d.jsx)(u.b,{to:"/todos",exact:!0,style:O.link,activeStyle:O.activeLink,children:"\u0417\u0430\u043c\u0435\u0442\u043a\u0438"})]})},g=n(2),v=Object(g.b)("auth/registerRequest"),x=Object(g.b)("auth/registerSuccess"),y=Object(g.b)("auth/registerError"),C=Object(g.b)("auth/loginRequest"),k=Object(g.b)("auth/loginSuccess"),w=Object(g.b)("auth/loginError"),S={registerRequest:v,registerSuccess:x,registerError:y,logoutRequest:Object(g.b)("auth/logoutRequest"),logoutSuccess:Object(g.b)("auth/logoutSuccess"),logoutError:Object(g.b)("auth/logoutError"),loginRequest:C,loginSuccess:k,loginError:w,getCurrentUserRequest:Object(g.b)("auth/getCurrentUserRequest"),getCurrentUserSuccess:Object(g.b)("auth/getCurrentUserSuccess"),getCurrentUserError:Object(g.b)("auth/getCurrentUserError")},L=n(3),E=n(10),N={name:null,email:null},R=Object(g.c)(N,(r={},Object(L.a)(r,S.registerSuccess,(function(e,t){return t.payload.user})),Object(L.a)(r,S.loginSuccess,(function(e,t){return t.payload.user})),Object(L.a)(r,S.logoutSuccess,(function(){return N})),Object(L.a)(r,S.getCurrentUserSuccess,(function(e,t){return t.payload})),r)),F=Object(g.c)(null,(a={},Object(L.a)(a,S.registerSuccess,(function(e,t){return t.payload.token})),Object(L.a)(a,S.loginSuccess,(function(e,t){return t.payload.token})),Object(L.a)(a,S.logoutSuccess,(function(){return null})),a)),A=function(e,t){return t.payload},I=Object(g.c)(null,(c={},Object(L.a)(c,S.registerError,A),Object(L.a)(c,S.loginError,A),Object(L.a)(c,S.logoutError,A),Object(L.a)(c,S.getCurrentUserError,A),c)),U=Object(E.b)({user:R,token:F,error:I}),B=n(20),q=n.n(B),_=n(25),D=n(14),M=n.n(D);M.a.defaults.baseURL="https://connections-api.herokuapp.com";var P={},T={register:function(e){return function(){var t=Object(_.a)(q.a.mark((function t(n){var r;return q.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(S.registerRequest()),t.prev=1,t.next=4,M.a.post("/users/signup",e);case 4:r=t.sent,P.set(r.data.token),n(S.registerSuccess(r.data)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),n(S.registerError(t.t0.message));case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()},logOut:function(){return function(){var e=Object(_.a)(q.a.mark((function e(t){return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(S.logoutRequest()),e.prev=1,e.next=4,M.a.post("/users/logout");case 4:P.unset(),t(S.logoutSuccess()),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t(S.logoutError(e.t0.message));case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},logIn:function(e){return function(){var t=Object(_.a)(q.a.mark((function t(n){var r;return q.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(S.loginRequest()),t.prev=1,t.next=4,M.a.post("/users/login",e);case 4:r=t.sent,P.set(r.data.token),n(S.loginSuccess(r.data)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),n(S.loginError(t.t0.message));case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()},getCurrentUser:function(){return function(){var e=Object(_.a)(q.a.mark((function e(t,n){var r,a,c;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n(),a=r.auth.token){e.next=3;break}return e.abrupt("return");case 3:return P.set(a),t(S.getCurrentUserRequest()),e.prev=5,e.next=8,M.a.get("/users/current");case 8:c=e.sent,t(S.getCurrentUserSuccess(c.data)),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(5),t(S.getCurrentUserError(e.t0.message));case 15:case"end":return e.stop()}}),e,null,[[5,12]])})));return function(t,n){return e.apply(this,arguments)}}()}},W={getIsAuthenticated:function(e){return Boolean(e.auth.token)},getUsername:function(e){return e.auth.user.name}},z=n.p+"static/media/default-avatar.e44fc4e2.png",G={container:{display:"flex",alignItems:"center"},avatar:{marginRight:4},name:{fontWeight:700,marginRight:12}},J={onLogout:T.logOut},V=Object(l.b)((function(e){return{name:W.getUsername(e),avatar:z}}),J)((function(e){var t=e.avatar,n=e.name,r=e.onLogout;return Object(d.jsxs)("div",{style:G.container,children:[Object(d.jsx)("img",{src:t,alt:"user photo",width:"32",style:G.avatar}),Object(d.jsxs)("span",{style:G.name,children:["Welcome, ",n]}),Object(d.jsx)("button",{type:"button",onClick:r,children:"Logout"})]})})),H={link:{display:"inline-block",textDecoration:"none",padding:12,fontWeight:700,color:"#2A363B"},activeLink:{color:"#E84A5F"}},X=function(){return Object(d.jsxs)("div",{children:[Object(d.jsx)(u.b,{to:"/register",exact:!0,style:H.link,activeStyle:H.activeLink,children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"}),Object(d.jsx)(u.b,{to:"/login",exact:!0,style:H.link,activeStyle:H.activeLink,children:"\u041b\u043e\u0433\u0438\u043d"})]})},K={header:{display:"flex",justifyContent:"space-between",alignItems:"center",borderBottom:"1px solid #2A363B"}},Q=Object(l.b)((function(e){return{isAuthenticated:W.getIsAuthenticated(e)}}))((function(e){var t=e.isAuthenticated;return Object(d.jsxs)("header",{style:K.header,children:[Object(d.jsx)(p,{}),t?Object(d.jsx)(V,{}):Object(d.jsx)(X,{})]})})),Y=(n(80),n(81),function(e){var t=e.children;return Object(d.jsx)("div",{className:"Container",children:t})}),Z=n(43),$=n.n(Z),ee=(n(100),function(){return Object(d.jsx)("div",{className:"Loader",children:Object(d.jsx)($.a,{type:"ThreeDots",color:"#00BFFF",height:200,width:200,timeout:250})})}),te=(n(101),n(112)),ne=n(111),re=n(44),ae=(n(102),function(e){var t=e.children,n=e.onClick;Object(re.a)(e,["children","onClick"]);return Object(d.jsx)("button",{type:"button",onClick:n,className:"IconButton",children:t})});ae.defaultProps={onClick:function(){return null},children:null};var ce,oe=ae;function se(){return(se=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ie(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function ue(e,t){var n=e.title,r=e.titleId,a=ie(e,["title","titleId"]);return o.createElement("svg",se({fill:"currentColor",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 60.963 60.842",style:{enableBackground:"new 0 0 60.963 60.842"},xmlSpace:"preserve",ref:t,"aria-labelledby":r},a),n?o.createElement("title",{id:r},n):null,ce||(ce=o.createElement("path",{d:"M59.595,52.861L37.094,30.359L59.473,7.98c1.825-1.826,1.825-4.786,0-6.611 c-1.826-1.825-4.785-1.825-6.611,0L30.483,23.748L8.105,1.369c-1.826-1.825-4.785-1.825-6.611,0c-1.826,1.826-1.826,4.786,0,6.611 l22.378,22.379L1.369,52.861c-1.826,1.826-1.826,4.785,0,6.611c0.913,0.913,2.109,1.369,3.306,1.369s2.393-0.456,3.306-1.369 l22.502-22.502l22.501,22.502c0.913,0.913,2.109,1.369,3.306,1.369s2.393-0.456,3.306-1.369 C61.42,57.647,61.42,54.687,59.595,52.861z"})))}var le=o.forwardRef(ue),be=(n.p,n(26)),je=function(e){return e.phoneBook.items},he=function(e){return e.phoneBook.filter},fe={getAllItems:je,getLoading:function(e){return e.phoneBook.items},getFilter:he,getVisibleContacts:Object(be.a)([je,he],(function(e,t){var n=t.toLowerCase();return e.filter((function(e){return e.name.toLowerCase().includes(n)}))}))},me=Object(g.b)("contacts/fetchContactsRequest"),de=Object(g.b)("contacts/fetchContactsSuccess"),Oe=Object(g.b)("contacts/fetchContactsError"),pe=Object(g.b)("contacts/addContactRequest"),ge=Object(g.b)("contacts/addContactSuccess"),ve=Object(g.b)("contacts/addContactError"),xe=Object(g.b)("contacts/removeContactRequest"),ye=Object(g.b)("contacts/removeContactSuccess"),Ce=Object(g.b)("contacts/removeContactError"),ke=(Object(g.b)("contacts/remove"),Object(g.b)("contacts/changeFilter"));M.a.defaults.baseURL="http://localhost:4040";var we,Se,Le={fetchContacts:function(){return function(e){e(me()),M.a.get("/contacts").then((function(t){var n=t.data;return e(de(n))})).catch((function(t){return e(Oe(t))}))}},addContact:function(e){var t=e.name,n=e.number;return function(e){var r={name:t,number:n};e(pe),M.a.post("/contacts",r).then((function(t){var n=t.data;return e(ge(n))})).catch((function(t){return e(ve(t))}))}},removeContact:function(e){return function(t){t(xe()),M.a.delete("/contacts/".concat(e)).then((function(){return t(ye(e))})).catch((function(e){return t(Ce(e))}))}}},Ee=n(28),Ne=Object(g.c)([],(we={},Object(L.a)(we,de,(function(e,t){return t.payload})),Object(L.a)(we,ge,(function(e,t){return[t.payload].concat(Object(Ee.a)(e))})),Object(L.a)(we,ye,(function(e,t){var n=t.payload;return e.filter((function(e){return e.id!==n}))})),we)),Re=Object(g.c)(!1,(Se={},Object(L.a)(Se,me,(function(){return!0})),Object(L.a)(Se,de,(function(){return!1})),Object(L.a)(Se,Oe,(function(){return!1})),Object(L.a)(Se,pe,(function(){return!0})),Object(L.a)(Se,ge,(function(){return!1})),Object(L.a)(Se,ve,(function(){return!1})),Object(L.a)(Se,xe,(function(){return!0})),Object(L.a)(Se,ye,(function(){return!1})),Object(L.a)(Se,Ce,(function(){return!1})),Se)),Fe=Object(g.c)("",Object(L.a)({},ke,(function(e,t){return t.payload}))),Ae=Object(g.c)(null,{}),Ie=Object(E.b)({items:Ne,filter:Fe,loading:Re,error:Ae}),Ue=Object(l.b)((function(e){return{items:fe.getVisibleContacts(e)}}),(function(e){return{onRemoveContact:function(t){return e(Le.removeContact(t))}}}))((function(e){var t=e.items,n=e.onRemoveContact;return Object(d.jsx)(te.a,{component:"ul",className:"ContactList",children:t.map((function(e){var t=e.id,r=e.name,a=e.number;return Object(d.jsx)(ne.a,{timeout:250,classNames:"ContactList__item-fade",children:Object(d.jsxs)("li",{className:"ContactList__item",children:[Object(d.jsxs)("p",{className:"ContactList__name",children:[r,": ",a]}),Object(d.jsx)(oe,{className:"ContactList__button",onClick:function(){return n(t)},"aria-label":"Remove Contact",children:Object(d.jsx)(le,{width:"12",height:"12",fill:"#fff"})})]},t)},t)}))})})),Be=(n(103),n(104),function(e){var t=e.message;return Object(d.jsx)(ne.a,{in:t,timeout:250,classNames:"Notification-fade",unmountOnExit:!0,children:Object(d.jsx)("div",{className:"Overlay",children:Object(d.jsx)("p",{className:"Notification",children:t})})})}),qe=function(e){Object(h.a)(n,e);var t=Object(f.a)(n);function n(){var e;Object(b.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={name:"",number:"",message:null},e.setMessage=function(t){e.setState({message:t}),setTimeout((function(){e.setState({message:null})}),2500)},e.handleChange=function(t){var n=t.target,r=n.name,a=n.value;e.setState(Object(L.a)({},r,a))},e.setMessage=function(t){e.setState({message:t}),setTimeout((function(){e.setState({message:null})}),2500)},e.handleSubmit=function(t){t.preventDefault();var n=e.state,r=n.name,a=n.number;""!==r?""!==a?(""===r&&""===a&&e.setMessage("Enter data to each of inputs: [name & number]!"),e.props.items.find((function(e){return e.name.toLowerCase()===r.toLowerCase()}))?e.setMessage("Contact ".concat(r," is \u0430lready exists!")):(e.props.onSubmit(r,a),e.setState({name:"",number:""}))):e.setMessage("Enter concact phone number, please!"):e.setMessage("Enter concact name, please!")},e}return Object(j.a)(n,[{key:"render",value:function(){var e=this.state,t=e.name,n=e.number,r=e.message;return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(Be,{message:r}),Object(d.jsxs)("form",{className:"ContactForm",onSubmit:this.handleSubmit,children:[Object(d.jsx)("label",{className:"Label",htmlFor:"name",children:"Name"}),Object(d.jsx)("input",{type:"text",value:t,id:"name",className:"ContactForm__input",name:"name",onChange:this.handleChange,placeholder:"Anton Cherny",autoFocus:!0}),Object(d.jsx)("label",{className:"Label",htmlFor:"number",children:"Number"}),Object(d.jsx)("input",{type:"tel",value:n,id:"number",className:"ContactForm__input",name:"number",required:!0,onChange:this.handleChange,placeholder:"+38 (066) 000-00-00"}),Object(d.jsx)("button",{type:"submit",className:"ContactForm__button",children:"Add contact"})]})]})}}]),n}(o.Component);qe.defaultProps={};var _e=Object(l.b)((function(e){return{items:fe.getAllItems(e)}}),(function(e){return{onSubmit:function(t,n){return e(Le.addContact({name:t,number:n}))}}}))(qe),De=(n(105),Object(l.b)((function(e){return{value:fe.getFilter(e),items:fe.getAllItems(e)}}),(function(e){return{onChangeFilter:function(t){return e(ke(t.target.value))},onClearFilter:function(t){return e(ke(""))}}}))((function(e){var t=e.value,n=e.onChangeFilter,r=e.onClearFilter,a=e.items;return Object(d.jsx)(ne.a,{in:a.length>1,timeout:250,classNames:"Filter-fade",unmountOnExit:!0,onExiting:function(){return r()},children:Object(d.jsxs)("div",{className:"filterForm",children:[Object(d.jsx)("label",{htmlFor:"find",className:"Label filterLabel",children:"Find contact by name"}),Object(d.jsx)("input",{type:"text",value:t,id:"find",className:"filterInput",onChange:n})]})})}))),Me=(n(106),function(){return Object(d.jsx)(ne.a,{in:!0,appear:!0,timeout:500,classNames:"Title-SlideIn",unmountOnExit:!0,children:Object(d.jsx)("h1",{className:"Title",children:"Phonebook"})})}),Pe={display:"flex",alignItems:"flex-end",marginBottom:20},Te=function(e){Object(h.a)(n,e);var t=Object(f.a)(n);function n(){return Object(b.a)(this,n),t.apply(this,arguments)}return Object(j.a)(n,[{key:"componentDidMount",value:function(){this.props.fetchContacts()}},{key:"render",value:function(){return Object(d.jsxs)(Y,{children:[Object(d.jsxs)("div",{style:Pe,children:[Object(d.jsx)(Me,{}),Object(d.jsx)(_e,{}),Object(d.jsx)(De,{})]}),this.props.isLoadingContacts&&Object(d.jsx)(ee,{}),Object(d.jsx)(Ue,{})]})}}]),n}(o.Component),We=Object(l.b)((function(e){return{items:fe.getAllItems(e),isLoadingContacts:fe.getLoading(e)}}),(function(e){return{fetchContacts:function(){return e(Le.fetchContacts())}}}))(Te),ze={container:{minHeight:"calc(100vh - 50px)",display:"flex",alignItems:"center",justifyContent:"center"},title:{fontWeight:500,fontSize:48,textAlign:"center"}},Ge=function(){return Object(d.jsx)("div",{style:ze.container,children:Object(d.jsxs)("h1",{style:ze.title,children:["Wellcome page"," ",Object(d.jsx)("span",{role:"img","aria-label":"\u0418\u043a\u043e\u043d\u043a\u0430 \u043f\u0440\u0438\u0432\u0435\u0442\u0441\u0442\u0432\u0438\u044f",children:"\ud83d\udc81\u200d\u2640\ufe0f"})]})})},Je={form:{width:320},label:{display:"flex",flexDirection:"column",marginBottom:15}},Ve=function(e){Object(h.a)(n,e);var t=Object(f.a)(n);function n(){var e;Object(b.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={name:"",email:"",password:""},e.handleChange=function(t){var n=t.target,r=n.name,a=n.value;e.setState(Object(L.a)({},r,a))},e.handleSubmit=function(t){t.preventDefault(),e.props.onRegister(e.state),e.setState({name:"",email:"",password:""})},e}return Object(j.a)(n,[{key:"render",value:function(){var e=this.state,t=e.name,n=e.email,r=e.password;return Object(d.jsxs)("div",{children:[Object(d.jsx)("h1",{children:"\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438"}),Object(d.jsxs)("form",{onSubmit:this.handleSubmit,style:Je.form,autoComplete:"off",children:[Object(d.jsxs)("label",{style:Je.label,children:["Name",Object(d.jsx)("input",{type:"text",name:"name",value:t,onChange:this.handleChange})]}),Object(d.jsxs)("label",{style:Je.label,children:["Mail",Object(d.jsx)("input",{type:"email",name:"email",value:n,onChange:this.handleChange})]}),Object(d.jsxs)("label",{style:Je.label,children:["Password",Object(d.jsx)("input",{type:"password",name:"password",value:r,onChange:this.handleChange})]}),Object(d.jsx)("button",{type:"submit",children:"Registration"})]})]})}}]),n}(o.Component),He={onRegister:T.register},Xe=Object(l.b)(null,He)(Ve),Ke={form:{width:320},label:{display:"flex",flexDirection:"column",marginBottom:15}},Qe=function(e){Object(h.a)(n,e);var t=Object(f.a)(n);function n(){var e;Object(b.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={email:"",password:""},e.handleChange=function(t){var n=t.target,r=n.name,a=n.value;e.setState(Object(L.a)({},r,a))},e.handleSubmit=function(t){t.preventDefault(),e.props.onLogin(e.state),e.setState({name:"",email:"",password:""})},e}return Object(j.a)(n,[{key:"render",value:function(){var e=this.state,t=e.email,n=e.password;return Object(d.jsxs)("div",{children:[Object(d.jsx)("h1",{children:"\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043b\u043e\u0433\u0438\u043d\u0430"}),Object(d.jsxs)("form",{onSubmit:this.handleSubmit,style:Ke.form,autoComplete:"off",children:[Object(d.jsxs)("label",{style:Ke.label,children:["\u041f\u043e\u0447\u0442\u0430",Object(d.jsx)("input",{type:"email",name:"email",value:t,onChange:this.handleChange})]}),Object(d.jsxs)("label",{style:Ke.label,children:["\u041f\u0430\u0440\u043e\u043b\u044c",Object(d.jsx)("input",{type:"password",name:"password",value:n,onChange:this.handleChange})]}),Object(d.jsx)("button",{type:"submit",children:"\u0412\u043e\u0439\u0442\u0438"})]})]})}}]),n}(o.Component),Ye={onLogin:T.logIn},Ze=Object(l.b)(null,Ye)(Qe),$e=function(e){Object(h.a)(n,e);var t=Object(f.a)(n);function n(){return Object(b.a)(this,n),t.apply(this,arguments)}return Object(j.a)(n,[{key:"componentDidMount",value:function(){this.props.onGetCurretnUser()}},{key:"render",value:function(){return Object(d.jsxs)(Y,{children:[Object(d.jsx)(Q,{}),Object(d.jsxs)(m.c,{children:[Object(d.jsx)(m.a,{exact:!0,path:"/",component:Ge}),Object(d.jsx)(m.a,{path:"/register",component:Xe}),Object(d.jsx)(m.a,{path:"/login",component:Ze}),Object(d.jsx)(m.a,{path:"/contacts",component:We})]})]})}}]),n}(o.Component),et={onGetCurretnUser:T.getCurrentUser},tt=Object(l.b)(null,et)($e),nt=n(21),rt=n(45),at=n.n(rt),ct=Object(Ee.a)(Object(g.d)({serializableCheck:{ignoredActions:[nt.a,nt.f,nt.b,nt.c,nt.d,nt.e]}})),ot={key:"auth",storage:at.a,whitelist:["token"]},st=Object(g.a)({reducer:{auth:Object(nt.g)(ot,U),phoneBook:Ie},middleware:ct,devTools:!1}),it={store:st,persistor:Object(nt.h)(st)};n(109);i.a.render(Object(d.jsx)(l.a,{store:it,children:Object(d.jsx)(u.a,{children:Object(d.jsx)(tt,{})})}),document.getElementById("root"))},81:function(e,t,n){}},[[110,1,2]]]);
//# sourceMappingURL=main.2e3682ea.chunk.js.map